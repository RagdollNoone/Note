命令模式
=======

## 工作队列

```txt
工作队列的两端分别是待添加的命令和线程, 线程总是从队列当中取出一个命令执行,
等待命令执行完成后, 再取出下一个命令, 继续执行
```

## 日志请求

```txt
可以将命令序列化到磁盘, 然后当出现意外情况时(死机?), 从磁盘上读取命令, 然后
还原之前的状态(举个例子来说的话, 像Excel编辑时, 突然死机了, 重启后的还原功能)
```

## 扩展

* 接收者对象不一定要存在, "聪明"的命令对象能直接完成一个请求, 什么才叫聪明？(P267)
* 很显然这种模式非常吃内存, 怎么设计出一种不怎么吃内存的命令模式
* 持久化(Serialization/persistence)
* 检查点(checkpoint), 不是每次变化就存整体, 而是检查点存整体, 检查点之间靠命令日志
* 事务处理(transaction)
